$(document).ready(function() {

  const source = $("#card-template").html();
  const template = Handlebars.compile(source);

  // AJAX call
  $.ajax({
    url: './discs.php',
    method: 'GET',
    success: function(results) {
      // Scrolling the array 'results' generated by the Ajax call
      for (let i = 0; i < results.length; i++) {
        // Accessing the properties of the objects in 'results'
        var context = {
          'poster': results[i].poster,
          'title': results[i].title,
          'author': results[i].author,
          'year': results[i].year,
        }
        // Storing the data in a variable and printing them on screen
        var html = template(context);
        $('#cards-container').append(html);
      }
    },
    error: function() {
      console.log('ERROR. Something went wrong!');
    },
  });
});
